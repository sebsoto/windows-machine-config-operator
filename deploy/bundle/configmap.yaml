apiVersion: v1
data:
  clusterServiceVersions: |
    - apiVersion: operators.coreos.com/v1alpha1
      kind: ClusterServiceVersion
      metadata:
        name: windows-machine-config-operator.v0.0.1
        namespace: placeholder
        annotations:
          alm-examples: >-
            [{"apiVersion":"","kind":"WindowsMachineConfig","metadata":{"name":""},"spec":{}}]
          categories: OpenShift Optional
          certified: 'false'
          createdAt: ''
          description: >-
            This operator allows for the addition of Windows nodes to an OpenShift
            cluster.
          containerImage: ''
          support: ''
          capabilities: Basic Install
          repository: ''
      spec:
        displayName: Windows Machine Config
        description: |
          ## About the managed application
          ## About this Operator
          ## Prerequisites for enabling this Operator
        maturity: alpha
        version: 0.0.1
        replaces: ''
        skips: []
        minKubeVersion: ''
        keywords: []
        maintainers:
          - name: ''
            email: ''
        provider:
          name: Red Hat
        labels: {}
        selector:
          matchLabels: {}
        links:
          - name: Repository
            url: 'https://github.com/openshift/windows-machine-config-operator'
        icon:
          - base64data: ''
            mediatype: ''
        customresourcedefinitions:
          owned:
            - name: windowsmachineconfigs.wmc.openshift.io
              displayName: WindowsMachineConfig
              kind: WindowsMachineConfig
              version: v1alpha1
              description: Windows Machine Config
              resources:
                - version: v1
                  kind: Deployment
                - version: v1
                  kind: Service
                - version: v1
                  kind: ReplicaSet
                - version: v1
                  kind: Pod
                - version: v1
                  kind: Secret
                - version: v1
                  kind: ConfigMap
              specDescriptors: []
              statusDescriptors: []
          required: []
        install:
          strategy: deployment
          spec:
            permissions:
              - serviceAccountName: windows-machine-config-operator
                rules:
                - apiGroups:
                  - ""
                  resources:
                  - pods
                  - services
                  - services/finalizers
                  - endpoints
                  - persistentvolumeclaims
                  - events
                  - configmaps
                  - secrets
                  verbs:
                  - create
                  - delete
                  - get
                  - list
                  - patch
                  - update
                  - watch
                - apiGroups:
                  - apps
                  resources:
                  - deployments
                  - daemonsets
                  - replicasets
                  - statefulsets
                  verbs:
                  - create
                  - delete
                  - get
                  - list
                  - patch
                  - update
                  - watch
                - apiGroups:
                  - monitoring.coreos.com
                  resources:
                  - servicemonitors
                  verbs:
                  - get
                  - create
                - apiGroups:
                  - apps
                  resourceNames:
                  - windows-machine-config-operator
                  resources:
                  - deployments/finalizers
                  verbs:
                  - update
                - apiGroups:
                  - ""
                  resources:
                  - pods
                  verbs:
                  - get
                - apiGroups:
                  - apps
                  resources:
                  - replicasets
                  - deployments
                  verbs:
                  - get
                - apiGroups:
                  - wmc.openshift.io
                  resources:
                  - '*'
                  verbs:
                  - create
                  - delete
                  - get
                  - list
                  - patch
                  - update
                  - watch
            deployments:
              - name: windows-machine-config-operator
                spec:
                  replicas: 1
                  selector:
                    matchLabels:
                      name: windows-machine-config-operator
                  template:
                    metadata:
                      labels:
                        name: windows-machine-config-operator
                    spec:
                      containers:
                        - image: 'quay.io/openshift/origin-windows-machine-config-operator:4.5'
                          imagePullPolicy: Always
                          name: windows-machine-config-operator
                          env:
                            - name: WATCH_NAMESPACE
                              valueFrom:
                                fieldRef:
                                  fieldPath: 'metadata.annotations[''olm.targetNamespaces'']'
                            - name: POD_NAME
                              valueFrom:
                                fieldRef:
                                  fieldPath: metadata.name
                            - name: OPERATOR_NAME
                              value: windows-machine-config-operator
                      nodeSelector:
                        beta.kubernetes.io/os: linux
                      serviceAccountName: windows-machine-config-operator
        installModes:
          - type: OwnNamespace
            supported: true
          - type: SingleNamespace
            supported: true
          - type: MultiNamespace
            supported: false
          - type: AllNamespaces
            supported: false
  customResourceDefinitions: |
    - apiVersion: apiextensions.k8s.io/v1beta1
      kind: CustomResourceDefinition
      metadata:
        name: windowsmachineconfigs.wmc.openshift.io
      spec:
        group: wmc.openshift.io
        names:
          kind: WindowsMachineConfig
          listKind: WindowsMachineConfigList
          plural: windowsmachineconfigs
          singular: windowsmachineconfig
        scope: Namespaced
        subresources:
          status: {}
        validation:
          openAPIV3Schema:
            description: WindowsMachineConfig is the Schema for the windowsmachineconfigs API
            properties:
              apiVersion:
                description: >-
                  APIVersion defines the versioned schema of this representation of an
                  object. Servers should convert recognized schemas to the latest
                  internal value, and may reject unrecognized values. More info:
                  https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                type: string
              kind:
                description: >-
                  Kind is a string value representing the REST resource this object
                  represents. Servers may infer this from the endpoint the client
                  submits requests to. Cannot be updated. In CamelCase. More info:
                  https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                type: string
              metadata:
                type: object
              spec:
                description: >-
                  WindowsMachineConfigSpec defines the desired state of
                  WindowsMachineConfig
                type: object
              status:
                description: >-
                  WindowsMachineConfigStatus defines the observed state of
                  WindowsMachineConfig
                type: object
            type: object
        version: v1alpha1
        versions:
          - name: v1alpha1
            served: true
            storage: true
  packages: |
    - channels:
      - currentCSV: windows-machine-config-operator.v0.0.1
        name: alpha
      defaultChannel: "alpha"
      packageName: windows-machine-config-operator
kind: ConfigMap
metadata:
  name: wmco-operators
